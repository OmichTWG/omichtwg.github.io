addObject({name:"camera",mouseC:16,create(){global.camera=this,camera.scaleX=3,camera.scaleY=3},step(){const a=camera.w(),e=camera.h(),m=currentRoom.w-this.mouseC,c=currentRoom.h-this.mouseC,r=camera.w()/2-mouse.x,s=camera.h()/2-mouse.y,t=(this.target?.x||0)-camera.w()/2,h=(this.target?.y||0)-camera.h()/2;moveToPoint(this,t,h,5),m<a?camera.x=m/2-a/2:(this.x<this.mouseC?camera.x=this.mouseC:this.x+a>m?camera.x=m-a:camera.x=this.x,camera.x-=r/this.mouseC,camera.x=Math.floor(camera.x*camera.scaleX)/camera.scaleX),c<e?camera.y=c/2-e/2:(this.y<this.mouseC?camera.y=this.mouseC:this.y+e>c?camera.y=c-e:camera.y=this.y,camera.y-=s/this.mouseC,camera.y=Math.floor(camera.y*camera.scaleY)/camera.scaleY)}});