addObject({name:"strongman",sprite:sprites.get("strongman"),tpX:32,tpY:28,collider:{type:"box",x1:-27,y1:-13,x2:3,y2:14},parent:"physics",taken:!1,wasCollided:!1,lastAy:0,depth:1,throwed:!1,lastBloodX:0,create(){"start-room"!==currentRoom.name||global.wasStarted||(this.sprite=sprites.get("strongmanAlive")),global.strongman=this,global.cannibalism&&(this.sprite=sprites.get("strongmanEaten"))},step(){getPause()?this.animationSpeed=0:(this.checkFall(),this.controls(),this.move(),this.cannibalism())},checkFall(){this.isColliding?(!this.wasCollided&&this.lastAy>1&&(playSoundWV("fall",.2),this.wasCollided=!0),this.throwed&&(this.throwed=!1)):this.wasCollided=!1,this.lastAy=this.ay},checkCanInteraction(){return global.power>=2&&collisionCollider("player",this.x,this.y,this.collider)},controls(){const t=()=>collisionCollider((t=>"solid"===t.name||"solid"===t.parent||"fragilePlatform"===t.name),this.x,this.y,this.collider);if(keyDown.has("KeyE")&&this.checkCanInteraction()){const a=t();console.log(a),this.taken&&a?a&&playSoundWV("wrong",.3):(this.taken=!this.taken,this.taken||(this.ax=1*global.player.scaleX,this.ay=-1,this.throwed=!0))}keyDown.has("KeyG")&&!global.strongman.taken&&global.power<3&&collisionCollider("player",this.x,this.y,this.collider)&&openModal("Вы стоите над телом отца жадно обливаясь слюнями. Откусить кусочек?",(()=>{global.cannibalism++,1===global.cannibalism&&(console.log(global.cannibalism),startDialog(cannibalism1Scene)),2===global.cannibalism&&startDialog(cannibalism2Scene),this.sprite=sprites.get("strongmanEaten")})),mouseDown.has(0)&&global.power>=3&&this.taken&&(t()?playSoundWV("wrong",.3):this.throw(getDirectionVector(global.player.x,global.player.y,mouse.x+camera.x,mouse.y+camera.y)))},throw(t){this.taken=!1,this.throwed=!0,this.ax=5*t.x,this.ay=5*t.y},move(){if(!this.taken&&(this.physics(),!this.throwed&&distanceBetween(global.player.x,global.player.y,this.x,this.y)>global.chainLength-5)){const t=global.player.x,a=global.player.y,i=getCurrentSpeed(),s=i?i-.1:0,l=getDirectionVector(this.x,this.y,t,a);this.ax=l.x*s}},cannibalism(){if(global.cannibalism&&Math.abs(this.ax)>.1){const t=this.y+14,a=16*Math.floor(this.x/16);if(collisionPoint("solid",a-8,t+1)&&collisionPoint("solid",a+8,t+1)&&(a!==this.lastBloodX&&(instanceCreate("bloodMain",a,t),this.lastBloodX=a),!random(0,6))){instanceCreate("blood",a+random(-8,8),t).setParams(random(30,60),randomFloat(.07,.13),randomFloat(0,.1))}}}});